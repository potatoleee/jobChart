import{_ as p,r as o,o as x,a as g,c as _,b as r,n as b,e as m,F as w,f as A,C as k}from"./index-665a2eaa.js";const F={setup(){const c=o([]),n=o({}),s=o([]),t=o([]),i=o(!0),a=o(null),d=o(null),y=o(null),f=e=>{let u="";e==="frontend"?(console.log(e),u="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/frontend_data.json",i.value=!0,a.value=d.value,console.log(a.value)):e==="designer"&&(console.log(e),u="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/ui_data.json",i.value=!1,a.value=y.value,console.log(a.value)),A.get(u).then(C=>{c.value=C.data.map(l=>l.company.salary),n.value=c.value.reduce((l,v)=>(l[v]?l[v]++:l[v]=1,l),{}),s.value=Object.keys(n.value),t.value=Object.values(n.value),console.log(s.value,s.value,t.value),h(a.value)})},h=e=>{if(!e)return;e.chart&&e.chart.destroy();const u=e.getContext("2d");e.chart=new k(u,{type:"line",data:{labels:s.value,datasets:[{data:t.value,backgroundColor:["rgba(135, 91, 87, 1)"]}]}})};return x(()=>{f("frontend"),h(a.value)}),{salaries:c,salaryCountAll:n,chartLabelsAll:s,chartDataAll:t,showFrontend:i,canvasRef:a,getAllAverageSalary:f,renderChart:h}}},j=r("div",null,"這是折線圖",-1),B={class:"col-12 d-flex align-items-center justify-content-center"},L={key:0},S={ref:"frontendChartCanvas"},N={key:1},O={ref:"designerChartCanvas"};function V(c,n,s,t,i,a){return g(),_(w,null,[j,r("div",B,[r("button",{type:"button",class:b(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-primary text-light":"bg-light"]),onClick:n[0]||(n[0]=d=>t.getAllAverageSalary("frontend"))}," 前端工程師 ",2),r("button",{type:"button",class:b(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-light":"bg-primary text-light"]),onClick:n[1]||(n[1]=d=>t.getAllAverageSalary("designer"))}," UI設計師 ",2)]),t.showFrontend?(g(),_("div",L,[r("canvas",S,null,512)])):m("",!0),t.showFrontend?m("",!0):(g(),_("div",N,[r("canvas",O,null,512)]))],64)}const D=p(F,[["render",V]]);export{D as default};
