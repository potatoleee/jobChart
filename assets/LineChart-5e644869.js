import{_ as p,r as o,o as x,a as g,c as _,b as l,n as b,e as m,F as w,f as A,C as k}from"./index-9beaeb5f.js";const F={setup(){const r=o([]),n=o({}),u=o([]),t=o([]),i=o(!0),a=o(null),d=o(null),y=o(null),f=e=>{let c="";e==="frontend"?(console.log(e,a),c="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/frontend_data.json",i.value=!0,a.value=d.value,console.log(a.value)):e==="designer"&&(console.log(e),c="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/ui_data.json",i.value=!1,a.value=y.value,console.log(a.value)),A.get(c).then(C=>{r.value=C.data.map(s=>s.company.salary),console.log(r.value),n.value=r.value.reduce((s,v)=>(s[v]?s[v]++:s[v]=1,s),{}),u.value=Object.keys(n.value),t.value=Object.values(n.value),console.log(u.value,t.value),h(a.value)})},h=e=>{if(!e)return;e.chart&&e.chart.destroy();const c=e.getContext("2d");e.chart=new k(c,{type:"line",data:{labels:u.value,datasets:[{data:t.value,borderColor:["rgba(135, 91, 87, 1)"]}]}})};return x(()=>{f("frontend"),h(a.value)}),{salaries:r,salaryCountAll:n,chartLabelsAll:u,chartDataAll:t,showFrontend:i,canvasRef:a,getAllAverageSalary:f,renderChart:h}}},j=l("div",null,"這是折線圖",-1),B={class:"col-12 d-flex align-items-center justify-content-center"},L={key:0},S={ref:"frontendChartCanvas"},N={key:1},O={ref:"designerChartCanvas"};function V(r,n,u,t,i,a){return g(),_(w,null,[j,l("div",B,[l("button",{type:"button",class:b(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-primary text-light":"bg-light"]),onClick:n[0]||(n[0]=d=>t.getAllAverageSalary("frontend"))}," 前端工程師 ",2),l("button",{type:"button",class:b(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-light":"bg-primary text-light"]),onClick:n[1]||(n[1]=d=>t.getAllAverageSalary("designer"))}," UI設計師 ",2)]),t.showFrontend?(g(),_("div",L,[l("canvas",S,null,512)])):m("",!0),t.showFrontend?m("",!0):(g(),_("div",N,[l("canvas",O,null,512)]))],64)}const D=p(F,[["render",V]]);export{D as default};
