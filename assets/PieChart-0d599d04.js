import{_ as U,r as o,o as T,a as r,c as l,b as a,w as j,v as k,F as C,d as F,e as B,f as L,C as M,t as O}from"./index-1232c805.js";const N={setup(){const _=o([]),n=o("1 年以下"),c=o([]),t=o([]),v=o([]),h=o(!0),e=o(null),y=o(null),m=o(null),p=s=>{s==="frontendChartCanvas"?(console.log("目前職位:",s),h.value=!0,e.value=y.value,u(e.value),g("1 年以下","frontend")):s==="designerChartCanvas"&&(console.log("目前職位:",s),h.value=!1,e.value=m.value,u(e.value),g("1 年以下","designer"))};T(()=>{p("frontendChartCanvas")});const d=o({}),g=(s,f)=>{let w="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/frontend_data.json";f==="designer"&&(w="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/ui_data.json"),L.get(w).then(V=>{d.value=V.data.reduce((i,D)=>{const{job_tenure:b,salary:x}=D.company;return i[b]=Object.assign(i[b]||{},{[x]:(i[b]&&i[b][x]||0)+1}),i},{}),console.log(d.value),c.value=Object.keys(d.value),c.value.pop(),t.value=Object.keys(d.value[s]),v.value=Object.values(d.value[s]),u(e.value)})},u=s=>{if(!s)return;s.chart&&s.chart.destroy();const f=s.getContext("2d");s.chart=new M(f,{type:"pie",data:{labels:t.value,datasets:[{data:v.value}]}})};return T(()=>{g("1 年以下","frontend"),u(e.value)}),{frontendChartCanvas:y,designerChartCanvas:m,salaryByTenure:d,salaries:_,selectedTenure:n,tenures:c,chartLabels:t,chartData:v,showFrontend:h,canvasRef:e,switchCanvas:p,selectTenurePie:g,renderPieChart:u}}},P=a("div",null,"這是圓餅圖",-1),S={class:"col-12 d-flex align-items-center justify-content-center"},E={key:0},I=["value"],q={ref:"frontendChartCanvas"},z={key:1},A=["value"],G={ref:"designerChartCanvas"};function H(_,n,c,t,v,h){return r(),l(C,null,[P,a("div",S,[a("button",{type:"button",class:"btn btn-light fs-base py-2 px-12 mb-0 bg-light shadow",onClick:n[0]||(n[0]=e=>t.switchCanvas("frontendChartCanvas"))}," 前端工程師 "),a("button",{type:"button",class:"btn btn-light fs-base py-2 px-12 mb-0 bg-light shadow",onClick:n[1]||(n[1]=e=>t.switchCanvas("designerChartCanvas"))}," UI設計師 ")]),t.showFrontend?(r(),l("div",E,[j(a("select",{"onUpdate:modelValue":n[2]||(n[2]=e=>t.selectedTenure=e),onChange:n[3]||(n[3]=e=>t.selectTenurePie(t.selectedTenure,"frontend"))},[(r(!0),l(C,null,F(t.tenures,e=>(r(),l("option",{value:e,key:e+"年"},O(e),9,I))),128))],544),[[k,t.selectedTenure]]),a("canvas",q,null,512)])):B("",!0),t.showFrontend?B("",!0):(r(),l("div",z,[j(a("select",{"onUpdate:modelValue":n[4]||(n[4]=e=>t.selectedTenure=e),onChange:n[5]||(n[5]=e=>t.selectTenurePie(t.selectedTenure,"designer"))},[(r(!0),l(C,null,F(t.tenures,e=>(r(),l("option",{value:e,key:e+"年"},O(e),9,A))),128))],544),[[k,t.selectedTenure]]),a("canvas",G,null,512)]))],64)}const K=U(N,[["render",H]]);export{K as default};
