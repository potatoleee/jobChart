import{_ as p,r as a,o as x,a as v,c as b,b as r,n as m,e as y,F as w,f as A,C as k}from"./index-b6fd7149.js";const F={setup(){const u=a([]),n=a({}),c=a([]),t=a([]),i=a(!0),s=a(null),d=a(null),f=a(null),_=e=>{let l="";e==="frontend"?(console.log(e,s),l="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/frontend_data.json",i.value=!0,s.value=d.value):e==="designer"&&(console.log(e),l="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/ui_data.json",i.value=!1,s.value=f.value),A.get(l).then(C=>{u.value=C.data.map(o=>o.company.salary),n.value=u.value.reduce((o,g)=>(o[g]?o[g]++:o[g]=1,o),{}),c.value=Object.keys(n.value),t.value=Object.values(n.value),h(s.value)})},h=e=>{if(!e)return;e.chart&&e.chart.destroy();const l=e.getContext("2d");e.chart=new k(l,{type:"line",data:{labels:c.value,datasets:[{label:"平均年薪",data:t.value,borderColor:["rgba(135, 91, 87, 1)"]}]}})};return x(()=>{_("frontend"),h(s.value)}),{salaries:u,salaryCountAll:n,chartLabelsAll:c,chartDataAll:t,showFrontend:i,getAllAverageSalary:_,renderChart:h,canvasRef:s,frontendChartCanvas:d,designerChartCanvas:f}}},j={class:"col-12 d-flex align-items-center justify-content-center"},B={key:0},L={ref:"frontendChartCanvas"},S={key:1},N={ref:"designerChartCanvas"};function O(u,n,c,t,i,s){return v(),b(w,null,[r("div",j,[r("button",{type:"button",class:m(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-primary text-light":"bg-light"]),onClick:n[0]||(n[0]=d=>t.getAllAverageSalary("frontend"))}," 前端工程師 ",2),r("button",{type:"button",class:m(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-light":"bg-primary text-light"]),onClick:n[1]||(n[1]=d=>t.getAllAverageSalary("designer"))}," UI設計師 ",2)]),t.showFrontend?(v(),b("div",B,[r("canvas",L,null,512)])):y("",!0),t.showFrontend?y("",!0):(v(),b("div",S,[r("canvas",N,null,512)]))],64)}const z=p(F,[["render",O]]);export{z as default};
