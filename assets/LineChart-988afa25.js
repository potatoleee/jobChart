import{_ as C,r as a,o as x,a as g,c as b,b as l,n as m,e as y,F as w,f as A,C as k}from"./index-e7654802.js";const F={setup(){const u=a([]),e=a({}),c=a([]),t=a([]),i=a(!0),s=a(null),d=a(null),f=a(null),_=n=>{let r="";n==="frontend"?(r="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/frontend_data.json",i.value=!0,s.value=d.value):n==="designer"&&(r="https://raw.githubusercontent.com/hexschool/2021-ui-frontend-job/master/ui_data.json",i.value=!1,s.value=f.value),A.get(r).then(p=>{u.value=p.data.map(o=>o.company.salary),e.value=u.value.reduce((o,v)=>(o[v]?o[v]++:o[v]=1,o),{}),c.value=Object.keys(e.value),t.value=Object.values(e.value),h(s.value)})},h=n=>{if(!n)return;n.chart&&n.chart.destroy();const r=n.getContext("2d");n.chart=new k(r,{type:"line",data:{labels:c.value,datasets:[{label:"平均年薪",data:t.value,borderColor:["rgba(135, 91, 87, 1)"]}]}})};return x(()=>{_("frontend"),h(s.value)}),{salaries:u,salaryCountAll:e,chartLabelsAll:c,chartDataAll:t,showFrontend:i,getAllAverageSalary:_,renderChart:h,canvasRef:s,frontendChartCanvas:d,designerChartCanvas:f}}},j={class:"col-12 d-flex align-items-center justify-content-center"},B={key:0},L={ref:"frontendChartCanvas"},S={key:1},N={ref:"designerChartCanvas"};function O(u,e,c,t,i,s){return g(),b(w,null,[l("div",j,[l("button",{type:"button",class:m(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-primary text-light":"bg-light"]),onClick:e[0]||(e[0]=d=>t.getAllAverageSalary("frontend"))}," 前端工程師 ",2),l("button",{type:"button",class:m(["btn btn-light fs-base py-2 px-12 mb-0 shadow",t.showFrontend?"bg-light":"bg-primary text-light"]),onClick:e[1]||(e[1]=d=>t.getAllAverageSalary("designer"))}," UI設計師 ",2)]),t.showFrontend?(g(),b("div",B,[l("canvas",L,null,512)])):y("",!0),t.showFrontend?y("",!0):(g(),b("div",S,[l("canvas",N,null,512)]))],64)}const z=C(F,[["render",O]]);export{z as default};
